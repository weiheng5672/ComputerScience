Aggregates，中文或許叫做聚合、結構體
無論如何，他在真實記憶體中的儲存，略去實現的細節，本質上和儲存陣列沒什麼差別。
一樣是連續的記憶體區塊，一樣是需要記住第一個記憶體的位置，但由於元素類型不同，計算方式不一樣而已。
但是，他的另一種實現方式就和陣列有相當大的不同了，就是用一個指標的陣列去指向每一個欄位。

# Deepseek

- **Aggregates** 在中文中通常稱為 **結構體**（Struct）或 **記錄**（Record）
- 結構體是一種將不同類型的數據組合在一起的數據結構，每個字段（Field）可以是不同的數據類型（例如字符數組、整數、浮點數等）
- 你提到的兩種實現方式（連續內存區塊和指針數組）確實是結構體的常見實現方式
下面我們來詳細討論這兩種方式：

---

### 1. **連續內存區塊的實現方式**
這種方式是將結構體的所有字段存儲在一塊連續的內存區域中。每個字段的內存位置是通過基地址（結構體的起始地址）和字段的偏移量（Offset）來計算的。

#### 例子：
假設我們有一個 `Employee` 結構體，包含以下字段：
- `Name`：字符數組，佔用 25 個字節。
- `Age`：整數，佔用 4 個字節。
- `SkillRating`：浮點數，佔用 4 個字節。

那麼，整個結構體的內存佈局如下：
```
| Name (25 bytes) | Age (4 bytes) | SkillRating (4 bytes) |
```
假設結構體的起始地址是 `x`，那麼：
- `Employee.Name` 的地址是 `x`。
- `Employee.Age` 的地址是 `x + 25`。
- `Employee.SkillRating` 的地址是 `x + 29`。

#### 優點：
- 內存連續，訪問速度快。
- 內存利用率高，沒有額外的指針開銷。

#### 缺點：
- 如果字段的長度不固定（例如動態數組），則需要額外的處理。
- 結構體的大小是固定的，無法動態調整。

---

### 2. **指針數組的實現方式**
這種方式是將結構體的每個字段存儲在獨立的內存區域中，並使用一個指針數組來指向這些字段的地址。

#### 例子：
同樣以 `Employee` 結構體為例，假設我們使用指針數組來實現：
- `Name`：指向一個字符數組的指針。
- `Age`：指向一個整數的指針。
- `SkillRating`：指向一個浮點數的指針。

內存佈局如下：
```
| Pointer to Name | Pointer to Age | Pointer to SkillRating |
```
每個指針指向實際的數據存儲位置。

#### 優點：
- 字段的長度可以動態調整（例如 `Name` 可以是任意長度的字符串）。
- 結構體的大小可以動態調整。

#### 缺點：
- 需要額外的內存來存儲指針。
- 訪問速度較慢，因為需要通過指針間接訪問數據。
- 內存碎片化問題可能更嚴重。

---

### 連續內存區塊 vs. 指針數組
| 特性                | 連續內存區塊                     | 指針數組                     |
|---------------------|----------------------------------|------------------------------|
| 內存佈局            | 連續                             | 分散                         |
| 訪問速度            | 快                               | 較慢（需要間接訪問）         |
| 內存開銷            | 較小                             | 較大（需要存儲指針）         |
| 字段長度            | 固定                             | 可動態調整                   |
| 適用場景            | 字段長度固定的情況               | 字段長度不固定的情況         |

---

### 總結
- **連續內存區塊** 是結構體的最常見實現方式，適合字段長度固定的情況，訪問速度快，內存利用率高。
- **指針數組** 則適合字段長度不固定的情況，靈活性更高，但會帶來額外的內存開銷和訪問速度的損失。

在實際編程中，選擇哪種實現方式取決於具體的需求。例如，C 語言中的結構體通常採用連續內存區塊的方式，而某些高級語言（如 Python 的字典）則可能採用類似指針數組的方式來實現動態結構。